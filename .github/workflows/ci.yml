name: CI Test SparseSet on Windows

on: [push, pull_request]

jobs:
  build-and-test:
    runs-on: windows-2022

    steps:
      # Step 1: Checkout the code
      - name: ⬇️ Checkout code
        uses: actions/checkout@v3

      # Step 2: Set up MSVC Build Tools
      - name: 🛠 Set up MSVC Build Tools
        uses: microsoft/setup-msbuild@v1.0.2
        with:
          vs-version: 2019  # You can change to a different version like '2022' if needed

      # Step 3: Build and run the test
      - name: 🧪 Build and run test
        run: |
          cl /EHsc /std:c++20 /W4 test_sparse_set.cpp
          test_sparse_set.exe
